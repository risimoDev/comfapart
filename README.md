# Comfort Apartments üè†

Production-ready –≤–µ–±-—Å–µ—Ä–≤–∏—Å –ø–æ –∞—Ä–µ–Ω–¥–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend:** Next.js 14 (App Router), React 18, TypeScript
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:** TailwindCSS 3.4, Framer Motion
- **Backend:** Next.js API Routes, Prisma ORM
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** JWT (jose)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Zod, React Hook Form
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** react-hot-toast

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```bash
git clone <repository-url>
cd "Comfort apartments"
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
DATABASE_URL="postgresql://user:password@localhost:5432/comfort_apartments"
JWT_SECRET="your-super-secret-key-min-32-chars"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
```

4. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**

```bash
npx prisma migrate dev --name init
```

5. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**

```bash
npx prisma db seed
```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞                  | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ------------------------ | --------------------------- |
| `npm run dev`            | –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  |
| `npm run build`          | –°–±–æ—Ä–∫–∞ –¥–ª—è production       |
| `npm run start`          | –ó–∞–ø—É—Å–∫ production —Å–±–æ—Ä–∫–∏    |
| `npm run lint`           | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º      |
| `npx prisma studio`      | –û—Ç–∫—Ä—ã—Ç—å Prisma Studio       |
| `npx prisma migrate dev` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏          |
| `npx prisma db seed`     | –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/               # REST API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apartments/    # –ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bookings/      # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ favorites/     # –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/         # –ê–¥–º–∏–Ω API
‚îÇ   ‚îú‚îÄ‚îÄ auth/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ apartments/        # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ booking/           # –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ account/           # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ admin/             # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/                # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ apartments/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ booking/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ layout/            # Header, Footer
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ lib/                   # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ middleware.ts          # Auth middleware
```

## üîê –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ seed —Å–∫—Ä–∏–ø—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã:

| Email              | –ü–∞—Ä–æ–ª—å     | –†–æ–ª—å    |
| ------------------ | ---------- | ------- |
| admin@comfort.ru   | admin123   | ADMIN   |
| manager@comfort.ru | manager123 | MANAGER |
| user@test.ru       | user123    | USER    |

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–Ω
- üõí –û–Ω–ª–∞–π–Ω –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- üí≥ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- ‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã
- üì± –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

- üìä Dashboard —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º–∏
- üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üí∞ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UI/UX

- ‚ú® –ê–Ω–∏–º–∞—Ü–∏–∏ —Å Framer Motion
- üì± –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- üåô –ì–æ—Ç–æ–≤ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è —Å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
- üìÜ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- üí´ Skeleton –∑–∞–≥—Ä—É–∑–∫–∞

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ (USER, MANAGER, ADMIN)
- **Apartment** - –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, —Ü–µ–Ω–∞–º–∏, –ø—Ä–∞–≤–∏–ª–∞–º–∏
- **Booking** - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- **Payment** - –ø–ª–∞—Ç–µ–∂–∏
- **Review** - –æ—Ç–∑—ã–≤—ã —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- **PromoCode** - –ø—Ä–æ–º–æ–∫–æ–¥—ã —Å–æ —Å–∫–∏–¥–∫–∞–º–∏

### –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:

- **SeasonalPrice** - —Å–µ–∑–æ–Ω–Ω—ã–µ —Ü–µ–Ω—ã
- **WeekdayPrice** - —Ü–µ–Ω—ã –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- **BlockedDate** - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:

- **City** - –≥–æ—Ä–æ–¥–∞
- **Category** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- **Amenity** - —É–¥–æ–±—Å—Ç–≤–∞
- **Tag** - —Ç–µ–≥–∏

## üîí API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ:

- `GET /api/apartments` - —Å–ø–∏—Å–æ–∫ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤
- `GET /api/apartments/[slug]` - –¥–µ—Ç–∞–ª–∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞
- `GET /api/apartments/[slug]/availability` - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- `GET /api/apartments/[slug]/price` - —Ä–∞—Å—á—ë—Ç —Ü–µ–Ω—ã
- `GET /api/cities` - —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤
- `GET /api/categories` - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

- `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –≤—Ö–æ–¥
- `POST /api/auth/logout` - –≤—ã—Ö–æ–¥
- `GET /api/auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `PUT /api/auth/profile` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö:

- `POST /api/bookings` - —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `GET /api/bookings` - –º–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `GET/POST/DELETE /api/favorites` - –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

- `GET /api/admin/apartments` - –≤—Å–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã
- `GET /api/admin/bookings` - –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `GET /api/admin/users` - –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/admin/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Comfort Apartments
